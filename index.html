<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë²•ë ¹ ê²€ìƒ‰ ë„êµ¬</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Noto Sans KR', sans-serif;
            height: 100vh;
            overflow: hidden;
            background: #ffffff;
        }
        
        /* 2ë¶„í•  ë ˆì´ì•„ì›ƒ */
        .main-container {
            display: flex;
            height: 100vh;
        }
        
        /* ì¢Œì¸¡: ë²•ë ¹ í‘œì‹œ ì˜ì—­ (2/3) */
        .left-panel {
            flex: 2;
            display: flex;
            flex-direction: column;
            border-right: 1px solid #e0e0e0;
            background: #fafafa;
        }
        
        .left-header {
            padding: 20px 30px;
            background: white;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .left-header h1 {
            font-size: 24px;
            color: #1a1a1a;
            margin-bottom: 8px;
        }
        
        .disclaimer {
            font-size: 12px;
            color: #666;
            background: #fff3cd;
            padding: 10px 15px;
            border-radius: 6px;
            border-left: 3px solid #ffc107;
        }
        
        .results-container {
            flex: 1;
            overflow-y: auto;
            padding: 30px;
        }
        
        .empty-state {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
            color: #999;
            text-align: center;
        }
        
        .empty-state-icon {
            font-size: 64px;
            margin-bottom: 20px;
            opacity: 0.3;
        }
        
        .empty-state-text {
            font-size: 16px;
            margin-bottom: 10px;
        }
        
        .empty-state-subtext {
            font-size: 14px;
            color: #bbb;
        }
        
        /* ë²•ë ¹ í‘œì‹œ ìŠ¤íƒ€ì¼ - í…ìŠ¤íŠ¸ ì¤‘ì‹¬ */
        .law-section {
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            margin-bottom: 20px;
            overflow: hidden;
        }
        
        .law-header {
            padding: 16px 20px;
            background: #f8f9fa;
            border-bottom: 1px solid #e0e0e0;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background 0.2s;
        }
        
        .law-header:hover {
            background: #f0f0f0;
        }
        
        .law-title {
            font-size: 18px;
            font-weight: 700;
            color: #1a1a1a;
        }
        
        .law-toggle {
            color: #666;
            font-size: 14px;
            transition: transform 0.3s;
        }
        
        .law-section.expanded .law-toggle {
            transform: rotate(180deg);
        }
        
        .law-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }
        
        .law-section.expanded .law-content {
            max-height: 5000px;
        }
        
        .law-body {
            padding: 20px;
        }
        
        .law-article {
            font-size: 15px;
            font-weight: 600;
            color: #333;
            margin-bottom: 8px;
        }
        
        .law-text {
            font-size: 14px;
            line-height: 1.8;
            color: #444;
            margin-bottom: 20px;
            padding-left: 10px;
            border-left: 2px solid #ddd;
        }
        
        /* ì‹œí–‰ë ¹/ì‹œí–‰ê·œì¹™ - ë“¤ì—¬ì“°ê¸° */
        .decree-section {
            margin: 15px 0 15px 30px;
            border: 1px solid #e8e8e8;
            border-radius: 6px;
            background: #fafafa;
        }
        
        .decree-header {
            padding: 12px 16px;
            background: #f5f5f5;
            border-bottom: 1px solid #e8e8e8;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .decree-header:hover {
            background: #eeeeee;
        }
        
        .decree-title {
            font-size: 16px;
            font-weight: 600;
            color: #333;
        }
        
        .decree-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }
        
        .decree-section.expanded .decree-content {
            max-height: 3000px;
        }
        
        .decree-section.expanded .law-toggle {
            transform: rotate(180deg);
        }
        
        .decree-body {
            padding: 16px;
            background: white;
        }
        
        .rule-section {
            margin: 12px 0 12px 30px;
            border: 1px solid #e8e8e8;
            border-radius: 6px;
            background: white;
        }
        
        .rule-header {
            padding: 10px 14px;
            background: #fafafa;
            border-bottom: 1px solid #e8e8e8;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .rule-header:hover {
            background: #f5f5f5;
        }
        
        .rule-title {
            font-size: 15px;
            font-weight: 600;
            color: #444;
        }
        
        .rule-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }
        
        .rule-section.expanded .rule-content {
            max-height: 2000px;
        }
        
        .rule-section.expanded .law-toggle {
            transform: rotate(180deg);
        }
        
        .rule-body {
            padding: 14px;
        }
        
        /* ìš°ì¸¡: ì±„íŒ… ì¸í„°í˜ì´ìŠ¤ (1/3) */
        .right-panel {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: white;
        }
        
        .chat-header {
            padding: 20px 20px;
            border-bottom: 1px solid #e0e0e0;
            background: white;
        }
        
        .chat-title {
            font-size: 16px;
            font-weight: 600;
            color: #1a1a1a;
            margin-bottom: 4px;
        }
        
        .chat-subtitle {
            font-size: 13px;
            color: #666;
        }
        
        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 16px;
        }
        
        .message {
            display: flex;
            gap: 12px;
            animation: fadeIn 0.3s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .message.user {
            flex-direction: row-reverse;
        }
        
        .message-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            font-size: 16px;
        }
        
        .message.assistant .message-avatar {
            background: #f0f0f0;
        }
        
        .message.user .message-avatar {
            background: #e3f2fd;
        }
        
        .message-content {
            max-width: 80%;
            padding: 12px 16px;
            border-radius: 12px;
            font-size: 14px;
            line-height: 1.6;
        }
        
        .message.assistant .message-content {
            background: #f5f5f5;
            color: #1a1a1a;
            border-radius: 12px 12px 12px 4px;
        }
        
        .message.user .message-content {
            background: #0066ff;
            color: white;
            border-radius: 12px 12px 4px 12px;
        }
        
        .confirmation-box {
            background: #f8f9fa;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 16px;
            margin-top: 8px;
        }
        
        .confirmation-title {
            font-size: 13px;
            font-weight: 600;
            color: #333;
            margin-bottom: 12px;
        }
        
        .confirmation-section {
            margin-bottom: 12px;
        }
        
        .confirmation-label {
            font-size: 12px;
            font-weight: 600;
            color: #666;
            margin-bottom: 6px;
        }
        
        .confirmation-items {
            font-size: 13px;
            color: #444;
            line-height: 1.6;
        }
        
        .confirmation-items li {
            margin-left: 16px;
            margin-bottom: 4px;
        }
        
        .confirmation-actions {
            display: flex;
            gap: 8px;
            margin-top: 12px;
        }
        
        .confirmation-btn {
            flex: 1;
            padding: 8px 16px;
            border-radius: 6px;
            border: none;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .btn-confirm {
            background: #0066ff;
            color: white;
        }
        
        .btn-confirm:hover {
            background: #0052cc;
        }
        
        .btn-modify {
            background: white;
            color: #666;
            border: 1px solid #e0e0e0;
        }
        
        .btn-modify:hover {
            background: #f5f5f5;
        }
        
        .typing-indicator {
            display: flex;
            gap: 4px;
            padding: 12px 16px;
        }
        
        .typing-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #999;
            animation: typing 1.4s infinite;
        }
        
        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }
        
        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }
        
        @keyframes typing {
            0%, 60%, 100% { opacity: 0.3; transform: translateY(0); }
            30% { opacity: 1; transform: translateY(-10px); }
        }
        
        .chat-input-container {
            padding: 16px 20px;
            border-top: 1px solid #e0e0e0;
            background: white;
        }
        
        .chat-input-wrapper {
            display: flex;
            gap: 8px;
            align-items: flex-end;
        }
        
        .chat-input {
            flex: 1;
            padding: 12px 16px;
            border: 1px solid #e0e0e0;
            border-radius: 20px;
            font-size: 14px;
            font-family: inherit;
            resize: none;
            max-height: 120px;
            overflow-y: auto;
        }
        
        .chat-input:focus {
            outline: none;
            border-color: #0066ff;
        }
        
        .chat-send-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: none;
            background: #0066ff;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.2s;
            flex-shrink: 0;
        }
        
        .chat-send-btn:hover {
            background: #0052cc;
        }
        
        .chat-send-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }
        
        /* ìŠ¤í¬ë¡¤ë°” ìŠ¤íƒ€ì¼ */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: #f5f5f5;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #ccc;
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #999;
        }
        
        /* PDF ë‹¤ìš´ë¡œë“œ ë²„íŠ¼ */
        .pdf-download-btn {
            position: fixed;
            bottom: 30px;
            left: 30px;
            padding: 12px 24px;
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            color: #333;
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: all 0.2s;
            display: none;
        }
        
        .pdf-download-btn.show {
            display: block;
        }
        
        .pdf-download-btn:hover {
            background: #f5f5f5;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        
        @media print {
            .right-panel,
            .pdf-download-btn {
                display: none;
            }
            
            .left-panel {
                flex: 1;
                border-right: none;
            }
            
            .law-content,
            .decree-content,
            .rule-content {
                max-height: none !important;
            }
        }
    </style>
</head>
<body>
    <div class="main-container">
        <!-- ì¢Œì¸¡: ë²•ë ¹ í‘œì‹œ ì˜ì—­ -->
        <div class="left-panel">
            <div class="left-header">
                <h1>ğŸ“š ë²•ë ¹ ê²€ìƒ‰ ê²°ê³¼</h1>
                <div class="disclaimer">
                    âš ï¸ ë³¸ ì„œë¹„ìŠ¤ëŠ” ë²•ë ¹ ì •ë³´ ê²€ìƒ‰ ë„êµ¬ë¡œ, ë²•ì  ì¡°ì–¸ì´ë‚˜ í•´ì„ì„ ì œê³µí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
                </div>
            </div>
            <div class="results-container" id="resultsContainer">
                <div class="empty-state">
                    <div class="empty-state-icon">ğŸ“‹</div>
                    <div class="empty-state-text">ìš°ì¸¡ ì±„íŒ…ì°½ì—ì„œ ì§ˆë¬¸ì„ ì…ë ¥í•´ì£¼ì„¸ìš”</div>
                    <div class="empty-state-subtext">ê´€ë ¨ ë²•ë ¹ ì •ë³´ë¥¼ ê²€ìƒ‰í•´ë“œë¦½ë‹ˆë‹¤</div>
                </div>
            </div>
        </div>
        
        <!-- ìš°ì¸¡: ì±„íŒ… ì¸í„°í˜ì´ìŠ¤ -->
        <div class="right-panel">
            <div class="chat-header">
                <div class="chat-title">AI ë²•ë ¹ ê²€ìƒ‰ ì–´ì‹œìŠ¤í„´íŠ¸</div>
                <div class="chat-subtitle">ì§ˆë¬¸ì„ ì…ë ¥í•˜ë©´ ê´€ë ¨ ë²•ë ¹ì„ ì°¾ì•„ë“œë¦½ë‹ˆë‹¤</div>
            </div>
            
            <div class="chat-messages" id="chatMessages">
                <div class="message assistant">
                    <div class="message-avatar">ğŸ¤–</div>
                    <div class="message-content">
                        ì•ˆë…•í•˜ì„¸ìš”! ë²•ë ¹ ê²€ìƒ‰ì„ ë„ì™€ë“œë¦¬ê² ìŠµë‹ˆë‹¤.<br><br>
                        ê¶ê¸ˆí•˜ì‹  ë²•ì  ìƒí™©ì„ ìì—°ìŠ¤ëŸ½ê²Œ ì„¤ëª…í•´ì£¼ì„¸ìš”.<br><br>
                        ì˜ˆ: "ë•…ì„ ìƒ€ëŠ”ë° ë¬˜ì§€ê°€ ìˆë‹¤ë©´ ì–´ë–»ê²Œ í•˜ë‚˜ìš”?"
                    </div>
                </div>
            </div>
            
            <div class="chat-input-container">
                <div class="chat-input-wrapper">
                    <textarea 
                        class="chat-input" 
                        id="chatInput" 
                        placeholder="ì§ˆë¬¸ì„ ì…ë ¥í•˜ì„¸ìš”..."
                        rows="1"
                        onkeypress="if(event.key === 'Enter' && !event.shiftKey) { event.preventDefault(); sendMessage(); }"
                    ></textarea>
                    <button class="chat-send-btn" id="sendBtn" onclick="sendMessage()">
                        â–²
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <button class="pdf-download-btn" id="pdfBtn" onclick="downloadPDF()">
        ğŸ“¥ PDF ë‹¤ìš´ë¡œë“œ
    </button>

    <script>
        let conversationState = 'waiting'; // waiting, analyzing, confirming, searching, complete
        let currentQuery = '';
        let analysisResult = null;
        
        // ì±„íŒ… ë©”ì‹œì§€ ì¶”ê°€
        function addMessage(content, isUser = false, isHTML = false) {
            const messagesContainer = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${isUser ? 'user' : 'assistant'}`;
            
            const avatar = document.createElement('div');
            avatar.className = 'message-avatar';
            avatar.textContent = isUser ? 'ğŸ‘¤' : 'ğŸ¤–';
            
            const contentDiv = document.createElement('div');
            contentDiv.className = 'message-content';
            
            if (isHTML) {
                contentDiv.innerHTML = content;
            } else {
                contentDiv.textContent = content;
            }
            
            messageDiv.appendChild(avatar);
            messageDiv.appendChild(contentDiv);
            messagesContainer.appendChild(messageDiv);
            
            // ìŠ¤í¬ë¡¤ ë§¨ ì•„ë˜ë¡œ
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
            
            return contentDiv;
        }
        
        // íƒ€ì´í•‘ ì¸ë””ì¼€ì´í„° ì¶”ê°€/ì œê±°
        function showTyping() {
            const messagesContainer = document.getElementById('chatMessages');
            const typingDiv = document.createElement('div');
            typingDiv.className = 'message assistant';
            typingDiv.id = 'typingIndicator';
            
            typingDiv.innerHTML = `
                <div class="message-avatar">ğŸ¤–</div>
                <div class="message-content typing-indicator">
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                    <div class="typing-dot"></div>
                </div>
            `;
            
            messagesContainer.appendChild(typingDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }
        
        function hideTyping() {
            const typing = document.getElementById('typingIndicator');
            if (typing) typing.remove();
        }
        
        // ë©”ì‹œì§€ ì „ì†¡
        function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            
            if (!message) return;
            
            // ì‚¬ìš©ì ë©”ì‹œì§€ ì¶”ê°€
            addMessage(message, true);
            input.value = '';
            input.style.height = 'auto';
            
            currentQuery = message;
            
            // ìƒíƒœì— ë”°ë¼ ì²˜ë¦¬
            if (conversationState === 'waiting') {
                startAnalysis();
            } else if (conversationState === 'confirming') {
                handleModification(message);
            }
        }
        
        // 1ë‹¨ê³„: ì§ˆë¬¸ ë¶„ì„ ì‹œì‘
        function startAnalysis() {
            conversationState = 'analyzing';
            
            showTyping();
            
            // ì‹¤ì œë¡œëŠ” Claude API í˜¸ì¶œ
            setTimeout(() => {
                hideTyping();
                
                // ë¶„ì„ ê²°ê³¼ (ì‹¤ì œë¡œëŠ” API ì‘ë‹µ)
                analysisResult = {
                    understanding: [
                        "í† ì§€ ë§¤ë§¤ ê³„ì•½ ìƒí™©",
                        "ë§¤ë§¤ ëª©ì ë¬¼(í† ì§€)ì— í•˜ì(ë¬˜ì§€) ì¡´ì¬",
                        "ë§¤ìˆ˜ì¸ ì…ì¥ì—ì„œì˜ ë²•ì  ëŒ€ì‘ ë°©ë²•"
                    ],
                    primaryAreas: [
                        "ë§¤ë§¤ í•˜ìë‹´ë³´ì±…ì„ ê´€ë ¨ ë²•ë ¹",
                        "ë¶„ë¬˜(ë¬˜ì§€) ì²˜ë¦¬ ê´€ë ¨ ë²•ë ¹",
                        "ê³„ì•½ í•´ì œ/ì·¨ì†Œ ê´€ë ¨ ë²•ë ¹"
                    ],
                    secondaryAreas: [
                        "í† ì§€ ì†Œìœ ê¶Œ/ì ìœ ê¶Œ ê´€ë ¨ ë²•ë ¹",
                        "ë§¤ë„ì¸ ê³ ì§€ì˜ë¬´ ê´€ë ¨ ë²•ë ¹"
                    ]
                };
                
                showConfirmation();
            }, 2000);
        }
        
        // 2ë‹¨ê³„: í™•ì¸ ìš”ì²­ í‘œì‹œ
        function showConfirmation() {
            conversationState = 'confirming';
            
            const confirmationHTML = `
                ì§ˆë¬¸ ë‚´ìš©ì„ ì´ë ‡ê²Œ ë¶„ì„í–ˆìŠµë‹ˆë‹¤:
                <div class="confirmation-box">
                    <div class="confirmation-title">ğŸ¤” ì´í•´í•œ ë‚´ìš©</div>
                    <div class="confirmation-section">
                        <ul class="confirmation-items">
                            ${analysisResult.understanding.map(item => `<li>${item}</li>`).join('')}
                        </ul>
                    </div>
                    
                    <div class="confirmation-section">
                        <div class="confirmation-label">ğŸ“Œ í•µì‹¬ ê²€ìƒ‰ ì˜ì—­:</div>
                        <ul class="confirmation-items">
                            ${analysisResult.primaryAreas.map(item => `<li>${item}</li>`).join('')}
                        </ul>
                    </div>
                    
                    <div class="confirmation-section">
                        <div class="confirmation-label">ğŸ“ ì¶”ê°€ ì°¸ê³  ì˜ì—­:</div>
                        <ul class="confirmation-items">
                            ${analysisResult.secondaryAreas.map(item => `<li>${item}</li>`).join('')}
                        </ul>
                    </div>
                    
                    <div class="confirmation-actions">
                        <button class="confirmation-btn btn-confirm" onclick="confirmSearch()">ì´ëŒ€ë¡œ ê²€ìƒ‰</button>
                        <button class="confirmation-btn btn-modify" onclick="requestModification()">ìˆ˜ì •í•˜ê¸°</button>
                    </div>
                </div>
            `;
            
            addMessage(confirmationHTML, false, true);
        }
        
        // 3ë‹¨ê³„: ê²€ìƒ‰ í™•ì¸
        function confirmSearch() {
            conversationState = 'searching';
            
            addMessage("ê²€ìƒ‰ì„ ì‹œì‘í•˜ê² ìŠµë‹ˆë‹¤.", false);
            showTyping();
            
            // ì‹¤ì œë¡œëŠ” ë²•ë ¹ API í˜¸ì¶œ
            setTimeout(() => {
                hideTyping();
                addMessage("ê´€ë ¨ ë²•ë ¹ì„ ì°¾ì•˜ìŠµë‹ˆë‹¤. ì¢Œì¸¡ í™”ë©´ì„ í™•ì¸í•´ì£¼ì„¸ìš”.", false);
                
                // ë²•ë ¹ ê²°ê³¼ í‘œì‹œ
                displayLawResults();
                
                conversationState = 'complete';
                
                // PDF ë²„íŠ¼ í‘œì‹œ
                document.getElementById('pdfBtn').classList.add('show');
            }, 2000);
        }
        
        // ìˆ˜ì • ìš”ì²­
        function requestModification() {
            addMessage("ì–´ë–¤ ë¶€ë¶„ì„ ìˆ˜ì •í•˜ì‹œê² ì–´ìš”? ì¶”ê°€í•˜ê±°ë‚˜ ë³€ê²½í•  ë‚´ìš©ì„ ì•Œë ¤ì£¼ì„¸ìš”.", false);
            // conversationStateëŠ” confirming ìœ ì§€
        }
        
        // ìˆ˜ì • ë‚´ìš© ì²˜ë¦¬
        function handleModification(modification) {
            showTyping();
            
            setTimeout(() => {
                hideTyping();
                addMessage("ìˆ˜ì • ì‚¬í•­ì„ ë°˜ì˜í–ˆìŠµë‹ˆë‹¤.", false);
                
                // ìˆ˜ì •ëœ ë¶„ì„ ê²°ê³¼ í‘œì‹œ (ì‹¤ì œë¡œëŠ” ì¬ë¶„ì„)
                showConfirmation();
            }, 1500);
        }
        
        // ë²•ë ¹ ê²°ê³¼ í‘œì‹œ (ì˜ˆì‹œ ë°ì´í„°)
        function displayLawResults() {
            const container = document.getElementById('resultsContainer');
            
            const mockData = [
                {
                    law: {
                        name: 'ë¯¼ë²•',
                        article: 'ì œ570ì¡° (ë§¤ë„ì¸ì˜ í•˜ìë‹´ë³´ì±…ì„)',
                        content: 'ë§¤ë§¤ì˜ ëª©ì ë¬¼ì— í•˜ìê°€ ìˆëŠ” ë•Œì—ëŠ” ì œ580ì¡°ì˜ ê·œì •ì„ ì¤€ìš©í•œë‹¤. ê·¸ëŸ¬ë‚˜ ë§¤ìˆ˜ì¸ì´ í•˜ììˆëŠ” ê²ƒì„ ì•Œì•˜ê±°ë‚˜ ê³¼ì‹¤ë¡œ ì¸í•˜ì—¬ ì´ë¥¼ ì•Œì§€ ëª»í•œ ë•Œì—ëŠ” ê·¸ëŸ¬í•˜ì§€ ì•„ë‹ˆí•˜ë‹¤.'
                    },
                    decrees: []
                },
                {
                    law: {
                        name: 'ì¥ì‚¬ ë“±ì— ê´€í•œ ë²•ë¥ ',
                        article: 'ì œ27ì¡° (ë¶„ë¬˜ì˜ ê°œì¥ ë“±)',
                        content: 'ë¶„ë¬˜ì˜ ì—°ê³ ìëŠ” í•´ë‹¹ ë¶„ë¬˜ê°€ ì„¤ì¹˜ëœ í† ì§€ ë“±ì˜ ì†Œìœ ìÂ·ì ìœ ì ë˜ëŠ” ê´€ë¦¬ìì˜ ìŠ¹ë‚™ì„ ë°›ì•„ ë¶„ë¬˜ë¥¼ ê°œì¥í•  ìˆ˜ ìˆë‹¤. ë‹¤ë§Œ, ì—°ê³ ìê°€ ì—†ê±°ë‚˜ ì—°ê³ ìë¥¼ ì•Œ ìˆ˜ ì—†ëŠ” ê²½ìš°ì—ëŠ” í•´ë‹¹ ë¶„ë¬˜ê°€ ì„¤ì¹˜ëœ í† ì§€ ë“±ì˜ ì†Œìœ ìÂ·ì ìœ ì ë˜ëŠ” ê´€ë¦¬ìê°€ íŠ¹ë³„ìì¹˜ì‹œì¥Â·íŠ¹ë³„ìì¹˜ë„ì§€ì‚¬Â·ì‹œì¥Â·êµ°ìˆ˜Â·êµ¬ì²­ì¥ì˜ í—ˆê°€ë¥¼ ë°›ì•„ ë¶„ë¬˜ë¥¼ ê°œì¥í•  ìˆ˜ ìˆë‹¤.'
                    },
                    decrees: [
                        {
                            name: 'ì¥ì‚¬ ë“±ì— ê´€í•œ ë²•ë¥  ì‹œí–‰ë ¹',
                            article: 'ì œ20ì¡° (ê°œì¥ì˜ ì ˆì°¨)',
                            content: 'ë²• ì œ27ì¡°ì œ1í•­ ê° í˜¸ ì™¸ì˜ ë¶€ë¶„ ë‹¨ì„œì— ë”°ë¼ ë¶„ë¬˜ë¥¼ ê°œì¥í•˜ë ¤ëŠ” í† ì§€ ë“±ì˜ ì†Œìœ ìÂ·ì ìœ ì ë˜ëŠ” ê´€ë¦¬ìëŠ” ê°œì¥ 30ì¼ ì „ê¹Œì§€ í•´ë‹¹ ë¶„ë¬˜ê°€ ì„¤ì¹˜ëœ í† ì§€ ë“±ì´ ìˆëŠ” ê³³ì„ ê´€í• í•˜ëŠ” íŠ¹ë³„ìì¹˜ì‹œì¥Â·íŠ¹ë³„ìì¹˜ë„ì§€ì‚¬Â·ì‹œì¥Â·êµ°ìˆ˜Â·êµ¬ì²­ì¥ì—ê²Œ ì‹ ê³ í•˜ì—¬ì•¼ í•œë‹¤.',
                            rules: [
                                {
                                    name: 'ì¥ì‚¬ ë“±ì— ê´€í•œ ë²•ë¥  ì‹œí–‰ê·œì¹™',
                                    article: 'ì œ15ì¡° (ê°œì¥ ì‹ ê³ )',
                                    content: 'ì˜ ì œ20ì¡°ì— ë”°ë¼ ë¶„ë¬˜ì˜ ê°œì¥ì„ ì‹ ê³ í•˜ë ¤ëŠ” ìëŠ” ë³„ì§€ ì œ12í˜¸ì„œì‹ì˜ ë¶„ë¬˜ê°œì¥ì‹ ê³ ì„œì— ë‹¤ìŒ ê° í˜¸ì˜ ì„œë¥˜ë¥¼ ì²¨ë¶€í•˜ì—¬ íŠ¹ë³„ìì¹˜ì‹œì¥Â·íŠ¹ë³„ìì¹˜ë„ì§€ì‚¬Â·ì‹œì¥Â·êµ°ìˆ˜Â·êµ¬ì²­ì¥ì—ê²Œ ì œì¶œí•˜ì—¬ì•¼ í•œë‹¤.'
                                }
                            ]
                        },
                        {
                            name: 'ì¥ì‚¬ ë“±ì— ê´€í•œ ë²•ë¥  ì‹œí–‰ë ¹',
                            article: 'ì œ21ì¡° (ë¬´ì—°ë¶„ë¬˜ì˜ ì²˜ë¦¬)',
                            content: 'íŠ¹ë³„ìì¹˜ì‹œì¥Â·íŠ¹ë³„ìì¹˜ë„ì§€ì‚¬Â·ì‹œì¥Â·êµ°ìˆ˜Â·êµ¬ì²­ì¥ì€ ì—°ê³ ìê°€ ì—†ê±°ë‚˜ ì—°ê³ ìë¥¼ ì•Œ ìˆ˜ ì—†ëŠ” ë¶„ë¬˜ì— ëŒ€í•˜ì—¬ 1ë…„ì˜ ê¸°ê°„ì„ ì •í•˜ì—¬ í•´ë‹¹ ì—°ê³ ìì—ê²Œ ì‹ ê³ í•  ê²ƒì„ ê³µê³ í•˜ì—¬ì•¼ í•œë‹¤.',
                            rules: []
                        }
                    ]
                },
                {
                    law: {
                        name: 'ë¯¼ë²•',
                        article: 'ì œ245ì¡° (ì ìœ ê¶Œì˜ ì·¨ë“)',
                        content: 'ë¬¼ê±´ì„ ì‚¬ì‹¤ìƒ ì§€ë°°í•˜ëŠ” ìëŠ” ì ìœ ê¶Œì´ ìˆë‹¤. ì ìœ ëŠ” ìê¸°ë¥¼ ìœ„í•œ ì˜ì‚¬ë¡œ ë¬¼ê±´ì„ ì§€ë°°í•¨ìœ¼ë¡œì¨ ì·¨ë“í•œë‹¤.'
                    },
                    decrees: []
                }
            ];
            
            let html = '';
            
            mockData.forEach((item, index) => {
                html += `
                    <div class="law-section" id="law-${index}">
                        <div class="law-header" onclick="toggleSection('law-${index}')">
                            <div class="law-title">${item.law.name}</div>
                            <div class="law-toggle">â–¼</div>
                        </div>
                        <div class="law-content">
                            <div class="law-body">
                                <div class="law-article">${item.law.article}</div>
                                <div class="law-text">${item.law.content}</div>
                `;
                
                // ì‹œí–‰ë ¹
                item.decrees.forEach((decree, dIndex) => {
                    html += `
                        <div class="decree-section" id="decree-${index}-${dIndex}">
                            <div class="decree-header" onclick="toggleSection('decree-${index}-${dIndex}')">
                                <div class="decree-title">${decree.name}</div>
                                <div class="law-toggle">â–¼</div>
                            </div>
                            <div class="decree-content">
                                <div class="decree-body">
                                    <div class="law-article">${decree.article}</div>
                                    <div class="law-text">${decree.content}</div>
                    `;
                    
                    // ì‹œí–‰ê·œì¹™
                    decree.rules.forEach((rule, rIndex) => {
                        html += `
                            <div class="rule-section" id="rule-${index}-${dIndex}-${rIndex}">
                                <div class="rule-header" onclick="toggleSection('rule-${index}-${dIndex}-${rIndex}')">
                                    <div class="rule-title">${rule.name}</div>
                                    <div class="law-toggle">â–¼</div>
                                </div>
                                <div class="rule-content">
                                    <div class="rule-body">
                                        <div class="law-article">${rule.article}</div>
                                        <div class="law-text">${rule.content}</div>
                                    </div>
                                </div>
                            </div>
                        `;
                    });
                    
                    html += `
                                </div>
                            </div>
                        </div>
                    `;
                });
                
                html += `
                            </div>
                        </div>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }
        
        // ì„¹ì…˜ í† ê¸€
        function toggleSection(sectionId) {
            const section = document.getElementById(sectionId);
            section.classList.toggle('expanded');
        }
        
        // PDF ë‹¤ìš´ë¡œë“œ
        function downloadPDF() {
            alert('PDF ë‹¤ìš´ë¡œë“œ ê¸°ëŠ¥ì€ í˜„ì¬ ë¸Œë¼ìš°ì €ì˜ ì¸ì‡„ ê¸°ëŠ¥ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.\n(âŒ˜+P ë˜ëŠ” Ctrl+P)');
            window.print();
        }
        
        // ì…ë ¥ì°½ ìë™ ë†’ì´ ì¡°ì ˆ
        document.getElementById('chatInput').addEventListener('input', function() {
            this.style.height = 'auto';
            this.style.height = (this.scrollHeight) + 'px';
        });
    </script>
</body>
</html>
